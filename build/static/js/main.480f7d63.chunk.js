(this["webpackJsonpeth-todo-list-react"]=this["webpackJsonpeth-todo-list-react"]||[]).push([[0],{198:function(t,e,n){t.exports=n(499)},213:function(t,e){},222:function(t,e){},240:function(t,e){},242:function(t,e){},262:function(t,e){},317:function(t,e){},319:function(t,e){},330:function(t,e){},332:function(t,e){},370:function(t,e){},375:function(t,e){},377:function(t,e){},401:function(t,e){},496:function(t,e,n){},497:function(t,e,n){},499:function(t,e,n){"use strict";n.r(e);var a=n(8),s=n.n(a),c=n(194),o=n.n(c),i=n(17),l=n.n(i),r=n(197),u=n(195),p=n(3),m=n(66),d=n(4),y=n(7),b=n(6),f=n(90),k=n.n(f),h=(n(496),[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"bool",name:"completed",type:"bool"}],name:"TaskCompleted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"string",name:"content",type:"string"},{indexed:!1,internalType:"bool",name:"completed",type:"bool"}],name:"TaskCreated",type:"event"},{constant:!1,inputs:[{internalType:"string",name:"_content",type:"string"}],name:"createTask",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"taskCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tasks",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"content",type:"string"},{internalType:"bool",name:"completed",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"toggleCompleted",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]),v=n(91),E=function(t){Object(y.a)(n,t);var e=Object(b.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement("div",{id:"content"},s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.props.createTask(t.task.value)}},s.a.createElement("input",{id:"newTask",ref:function(e){return t.task=e},type:"text",className:"form-control",placeholder:"Add task...",required:!0}),s.a.createElement("input",{type:"submit",hidden:!0})),s.a.createElement("ul",{id:"taskList",className:"list-unstyled"},this.props.tasks.map((function(t,e){var n;return s.a.createElement("div",(n={className:"taskTemplate"},Object(v.a)(n,"className","checkbox"),Object(v.a)(n,"key",e),n),s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox"}),s.a.createElement("span",{className:"content"},t.content)))}))),s.a.createElement("ul",{id:"completedTaskList",className:"list-unstyled"})))}}]),n}(a.Component),T=function(t){Object(y.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(p.a)(this,n),(a=e.call(this,t)).state={account:"",taskCount:0,tasks:[],loading:!0},a.createTask=a.createTask.bind(Object(m.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadBlockchainData()}},{key:"loadBlockchainData",value:function(){var t=Object(u.a)(l.a.mark((function t(){var e,n,a,s,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new k.a(k.a.givenProvider||"http://localhost:8545"),t.next=3,e.eth.getAccounts();case 3:return n=t.sent,this.setState({account:n[0]}),console.log("account :"+n[0]),a=new e.eth.Contract(h,"0xE12b3b24a412c900733e5D0A33334E39Cf46Ad9e"),console.log("account :"+n[0]),this.setState({todoList:a}),t.next=11,a.methods.taskCount().call();case 11:s=t.sent,console.log("account :"+n[0]),this.setState({taskCount:s}),c=1;case 15:if(!(c<=s)){t.next=24;break}return t.next=18,a.methods.tasks(c).call();case 18:o=t.sent,console.log("tasks: ",o),this.setState({tasks:[].concat(Object(r.a)(this.state.tasks),[o])});case 21:c++,t.next=15;break;case 24:console.log("tasks: ",this.state.tasks),this.setState({loading:!1});case 26:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),Object(d.a)(n,[{key:"createTask",value:function(t){var e=this;this.setState({loading:!0}),this.state.todoList.methods.createTask(t).send({from:this.state.account}).once("receipt",(function(t){e.setState({loading:!1}),e.componentDidMount()}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("nav",{className:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},s.a.createElement("a",{className:"navbar-brand col-sm-3 col-md-2 mr-0",href:"http://www.dappuniversity.com/free-download",target:"_blank"},"Dapp University | Todo List"),s.a.createElement("ul",{className:"navbar-nav px-3"},s.a.createElement("li",{className:"nav-item text-nowrap d-none d-sm-none d-sm-block"},s.a.createElement("small",null,s.a.createElement("a",{className:"nav-link",href:"#"},s.a.createElement("span",{id:"account"})))))),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("main",{role:"main",className:"col-lg-12 d-flex justify-content-center"},this.state.loading?s.a.createElement("div",{id:"loader",className:"text-center"}," ",s.a.createElement("p",{className:"text-center"},"Loading...")):s.a.createElement(E,{tasks:this.state.tasks,createTask:this.createTask})))))}}]),n}(a.Component);n(497),n(498);o.a.render(s.a.createElement(T,null),document.getElementById("root"))}},[[198,1,2]]]);
//# sourceMappingURL=main.480f7d63.chunk.js.map